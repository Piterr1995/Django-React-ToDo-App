{"ast":null,"code":"var _jsxFileName = \"/home/piter/Pulpit/tododjreactIvy/frontend/src/App.js\";\nimport React from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      todoList: [],\n      activeItem: {\n        id: null,\n        title: \"\",\n        completed: false\n      },\n      editing: false\n    };\n\n    this.fetchTask = () => {\n      axios.get(\"http://127.0.0.1:8000/api/task-list\").then(res => {\n        console.log(res.data);\n        this.setState({\n          todoList: res.data\n        });\n      });\n    };\n\n    this.handleChange = e => {\n      let name = e.target.name;\n      let value = e.target.value;\n      console.log(\"Name\", name);\n      console.log(\"Value\", value);\n      this.setState({\n        activeItem: { ...this.state.activeItem,\n          title: value\n        }\n      });\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      console.log(\"Item: \", this.state.activeItem);\n      const url = \"http://127.0.0.1:8000/api/task-create/\"; // axios.post(url, { headers: { \"Content-Type\": \"application/json\" } });\n\n      axios.post(url, {\n        body: this.state.activeItem\n      }).then(res => {\n        console.log(res);\n        this.fetchTask();\n        this.setState({\n          activeItem: {\n            id: null,\n            title: \"\",\n            completed: false\n          }\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n  }\n\n  // żeby odpalić funkcję fetch task, trzeba dać this.fetchTask().\n  // inaczej nie zadziała, mimo, że nie przyjmuje argumentów to należy użyć ()\n  componentDidMount() {\n    this.fetchTask();\n  }\n\n  render() {\n    let tasks = this.state.todoList;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"task-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"form-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      id: \"form\",\n      onSubmit: this.handleSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"flex-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flex: 6\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      onChange: this.handleChange,\n      placeholder: \"Add task\",\n      className: \"form-control\",\n      id: \"title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flex: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      id: \"submit\",\n      type: \"submit\",\n      name: \"add\",\n      className: \"btn btn-warning\",\n      value: \"Submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 19\n      }\n    }))))), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"list-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 11\n      }\n    }, tasks.map((task, index) => /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"task-wrapper flex-wrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flex: 7\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 19\n      }\n    }, task.title)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flex: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-outline-info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 19\n      }\n    }, \"Edit\")), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        flex: 1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-sm btn-outline-dark delete\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 19\n      }\n    }, \"-\")))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/piter/Pulpit/tododjreactIvy/frontend/src/App.js"],"names":["React","axios","App","Component","state","todoList","activeItem","id","title","completed","editing","fetchTask","get","then","res","console","log","data","setState","handleChange","e","name","target","value","handleSubmit","preventDefault","url","post","body","catch","err","componentDidMount","render","tasks","flex","map","task","index"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./App.css\";\nimport axios from \"axios\";\n\nclass App extends React.Component {\n  state = {\n    todoList: [],\n    activeItem: {\n      id: null,\n      title: \"\",\n      completed: false,\n    },\n    editing: false,\n  };\n\n  // Tak ma wyglądać funkcja, żeby nie trzeba było bindować\n  fetchTask = () => {\n    axios.get(\"http://127.0.0.1:8000/api/task-list\").then((res) => {\n      console.log(res.data);\n      this.setState({\n        todoList: res.data,\n      });\n    });\n  };\n\n  // żeby odpalić funkcję fetch task, trzeba dać this.fetchTask().\n  // inaczej nie zadziała, mimo, że nie przyjmuje argumentów to należy użyć ()\n  componentDidMount() {\n    this.fetchTask();\n  }\n\n  handleChange = (e) => {\n    let name = e.target.name;\n    let value = e.target.value;\n    console.log(\"Name\", name);\n    console.log(\"Value\", value);\n\n    this.setState({\n      activeItem: {\n        ...this.state.activeItem,\n        title: value,\n      },\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    console.log(\"Item: \", this.state.activeItem);\n\n    const url = \"http://127.0.0.1:8000/api/task-create/\";\n    // axios.post(url, { headers: { \"Content-Type\": \"application/json\" } });\n    axios\n      .post(url, { body: this.state.activeItem })\n      .then((res) => {\n        console.log(res);\n        this.fetchTask();\n        this.setState({\n          activeItem: {\n            id: null,\n            title: \"\",\n            completed: false,\n          },\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  render() {\n    let tasks = this.state.todoList;\n    return (\n      <div className=\"container\">\n        <div id=\"task-container\">\n          <div id=\"form-wrapper\">\n            <form id=\"form\" onSubmit={this.handleSubmit}>\n              <div className=\"flex-wrapper\">\n                <div style={{ flex: 6 }}>\n                  {/* The flex-grow property specifies how much \n                the item will grow relative to the rest of the flexible items inside the same container. */}\n                  <input\n                    onChange={this.handleChange}\n                    placeholder=\"Add task\"\n                    className=\"form-control\"\n                    id=\"title\"\n                  />\n                </div>\n                <div style={{ flex: 1 }}>\n                  <input\n                    id=\"submit\"\n                    type=\"submit\"\n                    name=\"add\"\n                    className=\"btn btn-warning\"\n                    value=\"Submit\"\n                  />\n                </div>\n              </div>\n            </form>\n          </div>\n          <div id=\"list-wrapper\">\n            {tasks.map((task, index) => (\n              <div key={index} className=\"task-wrapper flex-wrapper\">\n                <div style={{ flex: 7 }}>\n                  {/* tutaj flex 7 a potem oznacza, że ten będzie 7x większy od 1, 14 2 2 zrobi to samo */}\n                  <span>{task.title}</span>\n                </div>\n                <div style={{ flex: 1 }}>\n                  <button className=\"btn btn-sm btn-outline-info\">Edit</button>\n                </div>\n                <div style={{ flex: 1 }}>\n                  <button className=\"btn btn-sm btn-outline-dark delete\">\n                    -\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}